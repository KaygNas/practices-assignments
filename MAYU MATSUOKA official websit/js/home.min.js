$(document).ready(function () {
    $(".intro__name").delay(500).animate({
        opacity: 1,
    }, 2200);
    $(".intro__site").delay(900).animate({
        opacity: 1,
    }, 2200);
    $(".intro__inner").delay(2100).animate({
        opacity: 0,
    }, 1200);
    $(".intro").delay(3400).animate({
        opacity: 0,
    }, 3200, function () {
        $(".intro").remove();
        slideStart(anim_time = 1400, current_stay_time = 2200);
    });

    function setAnimation(index, anim_time) {
        let slide = ".home__visual__slide_" + index;
        $(slide).addClass("is-scroll");
        $(slide).addClass("is-anim");
        setTimeout(() => {
            setCurrent(index, current_stay_time);
        }, anim_time);
    }

    function setCurrent(index, current_stay_time) {
        let lastIndex = 0;
        index == 1 ? lastIndex = 5 : lastIndex = index - 1;
        let lastSlide = ".home__visual__slide_" + lastIndex;
        let CurrentSlide = ".home__visual__slide_" + index;
        $(lastSlide).removeClass("is-scroll");
        $(lastSlide).removeClass("is-current");
        $(CurrentSlide).removeClass("is-anim");
        $(CurrentSlide).addClass("is-current");
        setTimeout(() => {
            index == 5 ? index = 1 : index += 1;
            setAnimation(index, anim_time)
        }, current_stay_time);
    }


    function slideStart(anim_time, current_stay_time) {
        $(".home__visual__slide_1").addClass("is-scroll");
        setAnimation(2, anim_time);
    }
})